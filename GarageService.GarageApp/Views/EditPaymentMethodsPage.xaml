<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="GarageService.GarageApp.Views.EditPaymentMethodsPage"
             xmlns:views="clr-namespace:GarageService.GarageApp.Views"
             xmlns:inputs="clr-namespace:Syncfusion.Maui.Inputs;assembly=Syncfusion.Maui.Inputs"
             >
    <Grid RowDefinitions="Auto,*">
        <views:TitleView Title="Edit Payment method"
                  SubmitCommand="{Binding SaveCommand}"
                  BackCommand="{Binding GoBack}"
                  Grid.Row="0"/>
        <ScrollView Grid.Row="1" 
          Padding="0"
          VerticalScrollBarVisibility="Never">
            <VerticalStackLayout Padding="20" Spacing="20">
                <!-- Welcome Section -->
                <VerticalStackLayout Spacing="8" HorizontalOptions="Center">
                    <Label Text="Edit Payment Method" 
                        FontSize="18"
                        FontAttributes="Bold"
                        TextColor="{DynamicResource LabelTextColor}"
                        HorizontalOptions="Center"/>

                    <Label Text="Secure and convenient payment options" 
                        FontSize="14"
                        TextColor="{AppThemeBinding Light={StaticResource SecondaryTextLight}, Dark={StaticResource SecondaryTextDark}}"
                        HorizontalOptions="Center"
                        HorizontalTextAlignment="Center"/>
                </VerticalStackLayout>
                <!-- Divider -->
                <BoxView HeightRequest="1" 
                      Color="{DynamicResource SeparatorColor}"
                      HorizontalOptions="Fill"
                      Margin="0,10"/>
                <!-- Payment Form Card -->
                <Border Style="{StaticResource ModernCardBorder}">
                    <VerticalStackLayout Spacing="20">
                        <!-- Card Number -->
                        <VerticalStackLayout Spacing="8">
                            <Label Text="Card Number" Style="{StaticResource SectionHeader}"/>
                            <Entry Placeholder="1234 5678 9012 3456" 
                                Text="{Binding CardNumber}"
                                Style="{StaticResource ModernEntry}"
                                Keyboard="Numeric"
                                MaxLength="16"/>

                        </VerticalStackLayout>

                        <!-- Card Holder Name -->
                        <VerticalStackLayout Spacing="8">
                            <Label Text="Cardholder Name" Style="{StaticResource SectionHeader}"/>
                            <Entry Placeholder="John Doe" 
                                Text="{Binding CardHolderName}"
                                Style="{StaticResource ModernEntry}"
                                AutomationProperties.IsInAccessibleTree="True"
                                MaxLength="50"/>
                        </VerticalStackLayout>
                        <!-- Expiry and CVV Row -->
                        <Grid ColumnDefinitions="2*,2*,*" ColumnSpacing="12">

                            <!-- Expiry Month -->
                            <VerticalStackLayout Grid.Column="0" Spacing="8">
                                <inputs:SfComboBox 
                                     ItemsSource="{Binding Months}"
                                     SelectedItem="{Binding ExpiryMonth}"
                                     Placeholder="Month"
                                     IsFilteringEnabled="True"
                                     IsEditable="True"/>
                            </VerticalStackLayout>

                            <!-- Expiry Year -->
                            <VerticalStackLayout Grid.Column="1" Spacing="8">
                                <inputs:SfComboBox 
                                     ItemsSource="{Binding Years}"
                                     SelectedItem="{Binding ExpiryYear}"
                                     Placeholder="Year"
                                     IsFilteringEnabled="True"
                                     IsEditable="True"/>
                            </VerticalStackLayout>

                            <!-- CVV -->
                            <VerticalStackLayout Grid.Column="2" Spacing="8">
                                <Entry Placeholder="CVV" 
                                    Text="{Binding Cvv}"
                                    Style="{StaticResource ModernEntry}"
                                    Keyboard="Numeric"
                                    MaxLength="4"
                                    IsPassword="True"/>
                            </VerticalStackLayout>
                        </Grid>
                        <!-- Isactive -->
                        <Grid ColumnDefinitions="*,*" RowDefinitions="auto">
                            <HorizontalStackLayout Spacing="10" Grid.Column="0">
                                <CheckBox IsChecked="{Binding IsActive}" 
                                       Color="#3498DB"/>
                                <Label Text="Active" 
                                    VerticalOptions="Center"
                                    TextColor="#34495E"/>
                            </HorizontalStackLayout>
                        </Grid>
                        <!-- IsPrimary -->
                        <Grid ColumnDefinitions="*,*" RowDefinitions="auto">
                            <HorizontalStackLayout Spacing="10" Grid.Column="0">
                                <CheckBox IsChecked="{Binding IsPrimary}" 
                                       Color="#3498DB"/>
                                <Label Text="Primary" 
                                    VerticalOptions="Center"
                                    TextColor="#34495E"/>
                            </HorizontalStackLayout>
                        </Grid>

                    </VerticalStackLayout>
                </Border>
            </VerticalStackLayout>
        </ScrollView>
    </Grid>
</ContentPage>